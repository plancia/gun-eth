<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gun-ETH - Advanced Blockchain Storage System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.code-demo').forEach(demo => {
                const tabs = demo.querySelectorAll('.code-tabs button');
                const contents = demo.querySelectorAll('.tab-content');

                // Mostra il primo contenuto e attiva il primo tab
                if (contents.length > 0) {
                    contents[0].style.display = 'block';
                }
                if (tabs.length > 0) {
                    tabs[0].classList.add('active');
                }

                tabs.forEach((tab, index) => {
                    tab.addEventListener('click', () => {
                        // Disattiva tutti i tab e nascondi tutti i contenuti
                        tabs.forEach(t => t.classList.remove('active'));
                        contents.forEach(c => c.style.display = 'none');

                        // Attiva il tab corrente e mostra il contenuto corrispondente
                        tab.classList.add('active');
                        contents[index].style.display = 'block';
                    });
                });
            });
        });
    </script>
    <style>
        /* Code Demo Tabs */
        .code-tabs {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
        }

        .code-tabs button {
            background: none;
            border: 1px solid rgba(0, 194, 255, 0.1);
            color: var(--text);
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .code-tabs button:hover {
            border-color: var(--primary);
            background: rgba(0, 194, 255, 0.1);
            opacity: 1;
        }

        .code-tabs button.active {
            background: var(--primary);
            color: var(--background);
            border-color: var(--primary);
            opacity: 1;
        }

        .tab-content {
            display: none;
        }

        /* Code Window */
        .code-window {
            background: rgba(10, 25, 47, 0.7);
            border: 1px solid rgba(0, 194, 255, 0.1);
            border-radius: 0 0 0.5rem 0.5rem;
            overflow: hidden;
        }

        .code-window pre {
            margin: 0;
            padding: 1.5rem;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(0, 194, 255, 0.1);
        }

        .code-header h4 {
            margin: 0;
            color: var(--text);
            font-size: 1rem;
        }

        .hero {
            min-height: 100vh;
            background: linear-gradient(180deg, #0A1118 0%, #0D1117 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .hero-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3rem;
            max-width: 800px;
            width: 100%;
        }

        .hero-logo {
            width: 200px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo-image {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 0 20px rgba(0, 255, 240, 0.2));
        }

        .hero-text {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1.2;
            color: #fff;
            margin: 0;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin: 0;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #00FFF0;
            color: #0D1117;
        }

        .btn-primary:hover {
            background: #00FFB3;
            transform: translateY(-2px);
        }

        .btn-outline {
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .btn-outline:hover {
            border-color: #00FFF0;
            color: #00FFF0;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .hero-logo {
                width: 150px;
                height: 150px;
            }
        }

        .feature-image:hover {
            transform: scale(1.02);
        }

        /* Integration Overview Styles */
        .integration-overview {
            background: rgba(10, 25, 47, 0.5);
            border: 1px solid rgba(0, 194, 255, 0.1);
            border-radius: 0.5rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .integration-overview h4 {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .overview-section {
            margin-bottom: 1.5rem;
        }

        .overview-section:last-child {
            margin-bottom: 0;
        }

        .overview-section h5 {
            color: #fff;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 194, 255, 0.1);
            padding-bottom: 0.5rem;
        }

        .overview-section p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .overview-section ul,
        .overview-section ol {
            color: rgba(255, 255, 255, 0.8);
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .overview-section li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .overview-section strong {
            color: var(--primary);
        }

        /* Source Link Styles */
        .source-link {
            display: inline-flex;
            align-items: center;
            margin-left: 0.5rem;
            padding: 0.2rem 0.5rem;
            background: rgba(0, 194, 255, 0.1);
            border: 1px solid rgba(0, 194, 255, 0.2);
            border-radius: 4px;
            color: var(--primary);
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .source-link:hover {
            background: rgba(0, 194, 255, 0.2);
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        .source-link i {
            margin-right: 0.3rem;
        }

        /* Customize Prism theme to match our dark theme */
        pre[class*="language-"] {
            background: rgba(10, 25, 47, 0.7);
            margin: 0;
            border-radius: 0;
        }

        code[class*="language-"] {
            text-shadow: none;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
        }

        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: #6c7a89;
        }

        .token.function {
            color: #61dafb;
        }

        .token.keyword {
            color: #c678dd;
        }

        .token.string {
            color: #98c379;
        }

        .token.number {
            color: #d19a66;
        }

        .token.boolean {
            color: #56b6c2;
        }

        .token.operator {
            color: #56b6c2;
        }

        .token.property {
            color: #e06c75;
        }

        /* Navigation Menu Styles */
        .nav-menu {
            position: fixed;
            top: 80px;
            left: 20px;
            width: 250px;
            background: rgba(13, 17, 23, 0.95);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 194, 255, 0.1);
            border: 1px solid rgba(0, 194, 255, 0.1);
            z-index: 1000;
        }

        .nav-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-menu li {
            margin: 8px 0;
        }

        .nav-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: block;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .nav-menu a:hover {
            background: rgba(0, 194, 255, 0.1);
            color: #00FFF0;
        }

        .nav-menu .submenu {
            display: none;
            padding-left: 20px;
            margin-top: 5px;
        }

        .nav-menu .menu-item.active > .submenu {
            display: block;
        }

        .nav-menu .menu-item > a {
            position: relative;
            padding-right: 25px;
        }

        .nav-menu .menu-item > a::after {
            content: '▼';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            transition: transform 0.3s;
        }

        .nav-menu .menu-item.active > a::after {
            transform: translateY(-50%) rotate(180deg);
        }

        .nav-menu .menu-item.active > a {
            color: #00FFF0;
            background: rgba(0, 194, 255, 0.1);
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
        }

        /* Adjust main content to accommodate fixed nav */
        .main-content {
            margin-left: 280px;
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>

    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Add Prism CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
</head>
<body>
    <!-- Navigation Menu -->
    <nav class="nav-menu">
        <ul>
            <li class="menu-item">
                <a href="#getting-started">Getting Started</a>
                <ul class="submenu">
                    <li><a href="#prerequisites">Prerequisites & Setup</a></li>
                    <li><a href="#installation">Installation</a></li>
                    <li><a href="#basic-usage">Basic Usage</a></li>
                </ul>
            </li>
            <li class="menu-item">
                <a href="#docs">Features</a>
                <ul class="submenu">
                    <li><a href="#gun-ethereum-integration">Gun-Ethereum Integration</a></li>
                    <li><a href="#stealth-chain">StealthChain</a></li>
                    <li><a href="#proof-chain">ProofChain</a></li>
                    <li><a href="#encrypted-bubbles">Encrypted Bubbles</a></li>
                </ul>
            </li>
            <li class="menu-item">
                <a href="#docs">Advanced Usage</a>
                <ul class="submenu">
                    <li><a href="#contract-deployment">Contract Deployment</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav-content">
            <a href="#" class="nav-logo">Gun-ETH</a>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="#quick-start" class="nav-link">Quick Start</a>
                <a href="#docs" class="nav-link">Documentation</a>
                <a href="https://github.com/scobru/gun-eth" target="_blank" class="nav-link">GitHub</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-logo">
                <img src="./assets/hero-image.webp" alt="Gun-ETH Logo" class="logo-image">
            </div>
            <div class="hero-text">
                <h1 class="hero-title">Modern Decentralized Backup System</h1>
                <p class="hero-subtitle">
                    Secure, efficient, and reliable backups with encryption and versioning
                </p>
                <div class="hero-buttons">
                    <a href="#quick-start" class="btn btn-primary">Get Started</a>
                    <a href="https://github.com/scobru/gun-eth" target="_blank" class="btn btn-outline">View on GitHub</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Gun-ETH Section -->
    <section class="why-section">
        <div class="container">
            <h2 class="section-title glow-text">✨ Why Gun-ETH?</h2>
            
            <p class="why-description">
                🎯 Gun-ETH is a powerful plugin for Gun.js that extends its capabilities by adding advanced blockchain and cryptographic features to create more secure and private decentralized applications.
            </p>

            <p class="why-description">
                🌐 Seamlessly integrating with Gun.js, Gun-ETH adds privacy layers through stealth transactions, proof chains, and encrypted bubbles, while maintaining Gun's signature simplicity and flexibility.
            </p>

            <p class="why-description">
                🚀 With a modular architecture and intuitive APIs, Gun-ETH enables developers to easily implement blockchain and Web3 features in their Gun applications, bridging decentralized storage with Ethereum smart contracts.
            </p>
        </div>
    </section>

    <!-- Features Overview -->
    <section class="feature-section">
        <div class="container">
            <h2 class="section-title glow-text">Core Features</h2>
            <div class="feature-grid">
                <!-- Stealth Feature -->
                <div class="feature-card">
                    <div class="card-icon">🔒</div>
                    <h3 class="feature-title">Stealth Chain</h3>
                    <p>Private transactions with stealth addresses for maximum privacy</p>
                </div>

                <!-- Proof Chain Feature -->
                <div class="feature-card">
                    <div class="card-icon">⛓️</div>
                    <h3 class="feature-title">Proof Chain</h3>
                    <p>Cryptographic data verification with blockchain anchoring</p>
                </div>

                <!-- Bubble Feature -->
                <div class="feature-card">
                    <div class="card-icon">🫧</div>
                    <h3 class="feature-title">Encrypted Bubbles</h3>
                    <p>Secure data containers with end-to-end encryption</p>
                </div>

                <!-- Gun-Eth Integration -->
                <div class="feature-card">
                    <div class="card-icon">🔐</div>
                    <h3 class="feature-title">Web3 Integration</h3>
                    <p>Seamless integration between Gun and Ethereum</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Documentation Sections -->
    <section id="getting-started" class="dark-section">
        <div class="container">
            <h2 class="section-title glow-text">Getting Started</h2>
            
            <!-- Prerequisites Section -->
            <div id="prerequisites" class="doc-section">
                <h3 class="section-subtitle">🚀 Prerequisites & Setup</h3>
                
                <div class="integration-overview">
                    <h4>Contract Configuration</h4>
                    
                    <div class="overview-section">
                        <h5>1. Smart Contract Deployment</h5>
                        <p>
                            Before using Gun-ETH, you need to deploy the following contracts on your desired chain:
                        </p>
                        <ul>
                            <li><strong>ProofOfIntegrity:</strong> For data integrity verification</li>
                            <li><strong>StealthAnnouncer:</strong> For stealth payment announcements</li>
                            <li><strong>BubbleRegistry:</strong> For encrypted bubble management</li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>2. Provider Configuration</h5>
                        <pre><code class="language-javascript">
// Custom contract configuration
const stealthChain = new StealthChain(gun, {
    contractAddress: "0x...", // Deployed StealthAnnouncer contract address
    abi: STEALTH_ANNOUNCER_ABI  // Contract ABI (optional)
});

const proofChain = new ProofChain(gun, {
    contractAddress: "0x...", // Deployed ProofOfIntegrity contract address
    abi: PROOF_OF_INTEGRITY_ABI  // Contract ABI (optional)
});

const bubbleProvider = new HybridBubbleProvider({
    rpcUrl: "http://...",
    chain: "mainnet",  // or custom chain ID
    contractAddress: "0x...", // Deployed BubbleRegistry contract address
    contractAbi: BUBBLE_REGISTRY_ABI,  // Contract ABI (optional)
    gun: gun,
    keypair: keypair
});</code></pre>
                    </div>

                    <div class="overview-section">
                        <h5>3. Supported Chains</h5>
                        <p>
                            Gun-ETH supports various Ethereum chains. For each chain you need to:
                        </p>
                        <ul>
                            <li>Deploy the required contracts</li>
                            <li>Configure contract addresses</li>
                            <li>Specify the chain in options (e.g., 'mainnet', 'optimism', etc.)</li>
                            <li>Provide contract ABIs if different from standard ones</li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>⚠️ Important Notes</h5>
                        <ul>
                            <li>If no custom addresses are specified, defaults for the selected chain will be used</li>
                            <li>For local development, use 'localhost' chain and deploy contracts locally</li>
                            <li>Ensure you have necessary permissions on deployed contracts</li>
                            <li>Verify ABI compatibility with deployed contracts</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Installation Section -->
            <div id="installation" class="doc-section">
                <h3 class="section-subtitle">
                    📦 Installation
                    <a href="https://github.com/scobru/gun-eth#installation" target="_blank" class="source-link">
                        <i class="fas fa-code"></i> Source
                    </a>
                </h3>
                
                <div class="integration-overview">
                    <h4>Installation Guide</h4>
                    
                    <div class="overview-section">
                        <h5>NPM Installation</h5>
                        <pre><code class="language-bash">npm install gun-eth</code></pre>
                    </div>

                    <div class="overview-section">
                        <h5>Yarn Installation</h5>
                        <pre><code class="language-bash">yarn add gun-eth</code></pre>
                    </div>

                    <div class="overview-section">
                        <h5>Dependencies</h5>
                        <ul>
                            <li><strong>gun:</strong> ^0.2020.1235</li>
                            <li><strong>ethers:</strong> ^5.7.0</li>
                            <li><strong>web3:</strong> ^1.8.0</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Basic Usage Section -->
            <div id="basic-usage" class="doc-section">
                <h3 class="section-subtitle">
                    🔰 Basic Usage
                    <a href="https://github.com/scobru/gun-eth#basic-usage" target="_blank" class="source-link">
                        <i class="fas fa-code"></i> Source
                    </a>
                </h3>
                
                <div class="integration-overview">
                    <h4>Quick Start Guide</h4>
                    
                    <div class="overview-section">
                        <h5>Basic Setup</h5>
                        <pre><code class="language-javascript">
import { GunEth } from 'gun-eth';
import Gun from 'gun';

// Initialize Gun
const gun = Gun({
    peers: ['http://localhost:8765/gun']
});

// Initialize GunEth
const gunEth = await GunEth.init('localhost');

// Connect wallet
const signer = await gunEth.getSigner();
if (!signer) {
    throw new Error("No valid Ethereum provider found");
}</code></pre>
                    </div>

                    <div class="overview-section">
                        <h5>Basic Operations</h5>
                        <ul>
                            <li>Connect to Ethereum wallet</li>
                            <li>Initialize Gun database</li>
                            <li>Set up encryption</li>
                            <li>Store and retrieve data</li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>Example Usage</h5>
                        <pre><code class="language-javascript">
// Store encrypted data
await gun.user().get('myData').put({
    message: "Hello, Gun-ETH!"
});

// Retrieve data
const data = await gun.user().get('myData').then();</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="dark-section">
        <div class="container">
            <h2 class="section-title glow-text">Features</h2>
            
            <!-- Gun-Ethereum Integration -->
            <div id="gun-ethereum-integration" class="doc-section">
                <h3 class="section-subtitle">
                    🔐 Gun-Ethereum Integration
                    <a href="https://github.com/scobru/gun-eth/blob/main/src/core/gun-eth.js" target="_blank" class="source-link">
                        <i class="fas fa-code"></i> Source
                    </a>
                </h3>
                
                <div class="integration-overview">
                    <h4>Understanding Gun-Ethereum Integration</h4>
                    
                    <div class="overview-section">
                        <h5>What is Gun-Ethereum Integration?</h5>
                        <p>
                            Gun-Ethereum integration enables seamless interaction between Gun's decentralized database and Ethereum's blockchain. 
                            This integration allows you to use Ethereum wallets for authentication while leveraging Gun's real-time capabilities.
                        </p>
                    </div>

                    <div class="overview-section">
                        <h5>Key Components</h5>
                        <ul>
                            <li><strong>Ethereum Wallet:</strong> Used for authentication and signing messages</li>
                            <li><strong>Gun SEA:</strong> Gun's Security, Encryption, and Authorization system</li>
                            <li><strong>Conversion Layer:</strong> Translates between Ethereum and Gun authentication systems</li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>How it Works</h5>
                        <ol>
                            <li>User connects their Ethereum wallet (MetaMask or custom configuration)</li>
                            <li>Wallet signs a specific message to prove ownership</li>
                            <li>Signature is used to generate Gun SEA compatible keypairs</li>
                            <li>Generated keypairs enable encrypted data storage in Gun</li>
                            <li>Data can be accessed using either Ethereum or Gun credentials</li>
                        </ol>
                    </div>

                    <div class="overview-section">
                        <h5>Security Features</h5>
                        <ul>
                            <li>End-to-end encryption of stored data</li>
                            <li>Cryptographic proof of ownership</li>
                            <li>No private key exposure</li>
                            <li>Secure key derivation process</li>
                        </ul>
                    </div>
                </div>

                <div class="code-demo">
                    <div class="code-header">
                        <h4>Authentication Example</h4>
                        <div class="code-tabs">
                            <button>Setup</button>
                            <button>ETH to GUN</button>
                            <button>GUN to ETH</button>
                            <button>Usage</button>
                            <a href="https://github.com/scobru/gun-eth/tree/main/examples/auth" target="_blank" class="source-link">
                                <i class="fas fa-code"></i> Example
                            </a>
                        </div>
                    </div>
                    <div class="code-window">
                        <!-- Setup Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// Initialize Gun-Eth
import { GunEth } from 'gun-eth';
import Gun from 'gun';
import { ethers } from 'ethers';

// Configure Gun with peers
const gun = Gun({
    peers: ['http://localhost:8765/gun']
});

// Initialize GunEth
const gunEth = await GunEth.init('localhost');

// Signer Configuration Options:

// 1. Manual Configuration (Production)
if (process.env.RPC_URL && process.env.PRIVATE_KEY) {
    await gunEth.setSigner(process.env.RPC_URL, process.env.PRIVATE_KEY);
}

// 2. MetaMask Integration (Development)
else {
    // SignerManager gestirà automaticamente MetaMask se disponibile
    const signer = await gunEth.getSigner();
    if (!signer) {
        throw new Error("No valid Ethereum provider found");
    }
}

// Handle errors
else {
    throw new Error("No valid Ethereum provider found");
}</code></pre>
                        </div>

                        <!-- ETH to GUN Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// Convert an Ethereum account to a Gun account
import { ethToGunAccount, createSignature, MESSAGE_TO_SIGN } from 'gun-eth';

// Create signature with Ethereum wallet
const signature = await createSignature(MESSAGE_TO_SIGN);

// Convert to Gun SEA keypair
const gunAccount = await ethToGunAccount(signature);

// The account contains:
console.log({
    pub: gunAccount.pub,    // Gun public key
    priv: gunAccount.priv,  // Gun private key
    epub: gunAccount.epub,  // Encryption public key
    epriv: gunAccount.epriv // Encryption private key
});</code></pre>
                        </div>

                        <!-- GUN to ETH Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// Convert a Gun account to an Ethereum account
import { gunToEthAccount } from 'gun-eth';

// Use an existing Gun account
const gunAccount = {
    pub: "gun-public-key",
    priv: "gun-private-key",
    epub: "encryption-public-key",
    epriv: "encryption-private-key"
};

// Convert to Ethereum account
const ethAccount = await gunToEthAccount(gunAccount);

// The account contains:
console.log({
    address: ethAccount.address,     // Ethereum address
    privateKey: ethAccount.privateKey // Ethereum private key
});</code></pre>
                        </div>

                        <!-- Usage Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// Complete usage example
const signature = await createSignature(MESSAGE_TO_SIGN);
const gunAccount = await ethToGunAccount(signature);

// Save encrypted data
await gun.user(gunAccount.pub).get('myData').put({
    secret: "Data encrypted with Gun keys"
});

// Retrieve encrypted data
const data = await gun.user(gunAccount.pub).get('myData').then();

// Convert back to Ethereum if needed
const ethAccount = await gunToEthAccount(gunAccount);</code></pre>
                        </div>
                    </div>
                </div>

                <div class="steps-container">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Connect Wallet</h4>
                            <p>Connect your Ethereum wallet and sign the authentication message</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Convert Account</h4>
                            <p>Convert your Ethereum account to a Gun account using ethToGunAccount</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Use Gun Features</h4>
                            <p>Use all Gun features with your converted account</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Convert Back</h4>
                            <p>If needed, convert back to Ethereum account using gunToEthAccount</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stealth Chain Documentation -->
            <div id="stealth" class="section">
                <h2>Stealth Transactions</h2>
                <p>Le Stealth Transactions permettono transazioni private e sicure sulla blockchain.</p>
                
                <div class="code-window">
                    <div class="code-header">
                        <h4>Esempio di Stealth Transaction</h4>
                    </div>
                    <pre><code>// Inizializza StealthChain
const stealthChain = new StealthChain(gun);

// Pubblica le chiavi stealth
const keys = await stealthChain.publishStealthKeys(userSignature);

// Genera indirizzo stealth per il destinatario
const stealthInfo = await stealthChain.generateStealthAddress(
  recipientAddress,
  senderSignature
);

// Annuncia il pagamento
await stealthChain.announceStealthPayment(
  stealthInfo.stealthAddress,
  stealthInfo.senderPublicKey,
  stealthInfo.spendingPublicKey,
  senderSignature,
  { 
    chain: 'localhost',
    onChain: true
  }
);

// Recupera i pagamenti (lato destinatario)
const payments = await stealthChain.getStealthPayments(
  recipientSignature,
  { 
    chain: 'localhost',
    source: 'both'
  }
);

// Recupera i fondi
const recoveredFunds = await stealthChain.recoverStealthFunds(
  payment.stealthAddress,
  payment.senderPublicKey,
  recipientSignature,
  payment.spendingPublicKey
);</code></pre>
                </div>
            </div>

            <!-- Proof Chain Documentation -->
            <div id="proof-chain" class="section">
                <h2>Proof of Integrity</h2>
                <p>Il sistema Proof of Integrity garantisce l'integrità dei dati attraverso la blockchain.</p>
                
                <div class="code-window">
                    <div class="code-header">
                        <h4>Esempio di Proof of Integrity</h4>
                        </div>
                    <pre><code>// Inizializza ProofChain
const proofChain = new ProofChain(gun);

// Dati da proteggere
const data = {
  message: "Dati importanti",
  timestamp: Date.now()
};

// Scrivi i dati con proof
proofChain.proof(
  'localhost',    // chain
  null,           // nodeId (nuovo nodo)
  data,           // dati da proteggere
  (ack) => {
        if (ack.ok) {
      console.log("✅ Dati scritti con successo");
            console.log("Node ID:", ack.nodeId);
            console.log("Transaction Hash:", ack.txHash);
        }
  }
);

// Verifica l'integrità
gun.proof(
  'localhost',
  nodeId,
  null,
  (ack) => {
        if (ack.ok) {
      console.log("✅ Verifica passata");
      console.log("Timestamp:", new Date(Number(ack.timestamp) * 1000));
            console.log("Updater:", ack.updater);
    } else {
      console.log("❌ Verifica fallita - possibile manomissione");
    }
  }
);</code></pre>
                </div>
            </div>

            <!-- Encrypted Bubbles Documentation -->
            <div id="encrypted-bubbles" class="section">
                <h2>Encrypted Bubbles</h2>
                <p>Le Encrypted Bubbles forniscono uno storage sicuro e decentralizzato con crittografia end-to-end.</p>

                <div class="code-demo">
                        <div class="code-tabs">
                        <button>Hybrid Provider</button>
                        <button>GUN Provider</button>
                    </div>
                    <div class="code-window">
                        <div class="code-header">
                            <h4>Esempio di Bubble con HybridBubbleProvider</h4>
                        </div>
                        <div class="tab-content">
                            <pre><code>// Inizializza il provider ibrido
const hybridProvider = new HybridBubbleProvider({
  rpcUrl: "http://localhost:8545",
  chain: 'localhost',
    gun: gunInstance,
    keypair: userKeypair
});

// Crea una nuova bolla
const bubble = await hybridProvider.handleCreateBubble({
  name: "My Secure Bubble",
    isPrivate: true,
    userAddress: userAddress
});

// Carica un file
const upload = await hybridProvider.handleFileUpload(
    bubble.id,
  "secret.txt",
  "Contenuto segreto",
    userAddress
);

// Condividi con un altro utente
await hybridProvider.handleGrantPermission(
  bubble.id,
  granteeAddress,
  granterAddress,
  {
    granteeEpub: granteeKeypair.epub,
        metadata: {
            sharedAt: Date.now(),
      granterAddress: granterAddress,
      granteeAddress: granteeAddress
    }
  }
);</code></pre>
                        </div>
                        <div class="tab-content">
                            <pre><code>// Inizializza il provider GUN
const gunProvider = new GUNBubbleProvider({
  rpcUrl: "http://localhost:8545",
  chain: 'localhost',
  gun: gunInstance,
  keypair: userKeypair
});

// Crea una nuova bolla
const bubble = await gunProvider.handleCreateBubble({
  name: "GUN Only Bubble",
  isPrivate: true,
  userAddress: userAddress
});

// Carica un file
const upload = await gunProvider.handleFileUpload(
  bubble.id,
  "secret.txt",
  "Contenuto segreto",
  userAddress
);

// Verifica l'accesso
const file = await gunProvider.handleFileDownload(
  bubble.id,
  "secret.txt",
  userAddress
);</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Templates Documentation -->
            <div id="templates" class="doc-section">
                <h3 class="section-subtitle">
                    📋 Bubble Templates
                    <a href="https://github.com/scobru/gun-eth/tree/main/templates" target="_blank" class="source-link">
                        <i class="fas fa-code"></i> Source
                    </a>
                </h3>
                
                <div class="integration-overview">
                    <h4>Ready-to-Use Templates</h4>
                    
                    <div class="overview-section">
                        <h5>What are Gun-ETH Templates?</h5>
                        <p>
                            Gun-ETH templates provide production-ready implementations for both client and provider setups.
                            These templates include best practices, proper error handling, and common configurations to help
                            you get started quickly with secure and scalable implementations.
                        </p>
                    </div>

                    <div class="overview-section">
                        <h5>Available Templates</h5>
                        <ul>
                            <li>
                                <strong>Client Template:</strong>
                                <a href="https://github.com/scobru/gun-eth/blob/main/templates/template-bubble-client.js" target="_blank" class="source-link">
                                    <i class="fas fa-code"></i> Source
                                </a>
                                <ul>
                                    <li>Complete configuration management</li>
                                    <li>File handling (text, JSON, binary)</li>
                                    <li>Comprehensive error handling</li>
                                    <li>Secure file storage patterns</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Provider Template:</strong>
                                <a href="https://github.com/scobru/gun-eth/blob/main/templates/template-bubble-provider.js" target="_blank" class="source-link">
                                    <i class="fas fa-code"></i> Source
                                </a>
                                <ul>
                                    <li>Express server setup</li>
                                    <li>Gun node configuration</li>
                                    <li>Storage directory management</li>
                                    <li>API endpoint implementation</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>Template Features</h5>
                        <ul>
                            <li><strong>Environment Configuration:</strong> Environment variable support</li>
                            <li><strong>Security Best Practices:</strong> Built-in security measures</li>
                            <li><strong>Scalability Patterns:</strong> Ready for production loads</li>
                            <li><strong>Documentation:</strong> Inline comments and examples</li>
                        </ul>
                    </div>

                    <div class="overview-section">
                        <h5>Getting Started</h5>
                        <ol>
                            <li>Clone the template repository</li>
                            <li>Configure environment variables</li>
                            <li>Customize implementation as needed</li>
                            <li>Deploy your application</li>
                        </ol>
                    </div>
                </div>

                <div class="code-demo">
                    <div class="code-header">
                        <h4>Ready-to-Use Templates</h4>
                        <div class="code-tabs">
                            <button>Client Template</button>
                            <button>Provider Template</button>
                        </div>
                    </div>
                    <div class="code-window">
                        <!-- Client Template Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// template-bubble-client.js
// Complete client implementation with:
// - Configuration management
// - File handling (text, JSON, binary)
// - Comprehensive error handling
// - Decrypted file storage

const CONFIG = {
    RPC_URL: process.env.RPC_URL,
    PRIVATE_KEY: process.env.PRIVATE_KEY,
    PROVIDER_URL: "http://localhost:3000/api",
    GUN_PEERS: ['http://localhost:8765/gun'],
    DECRYPTED_FILES_DIR: './decrypted-files'
};

// Initialize client with configuration
const client = await initializeClient();

// Example usage
const bubble = await client.createBubble("Test Bubble");
await client.writeBubble(bubble.id, "test.txt", "content");
const result = await client.readBubble(bubble.id, "test.txt");</code></pre>
                        </div>

                        <!-- Provider Template Tab -->
                        <div class="tab-content">
                            <pre><code class="language-javascript">
// template-bubble-provider.js
// Complete provider implementation with:
// - Express server setup
// - GUN configuration
// - Directory management
// - Error handling
// - Optional external storage integration

const CONFIG = {
    RPC_URL: process.env.RPC_URL,
    PRIVATE_KEY: process.env.PRIVATE_KEY,
    GUN_PEERS: "http://localhost:8765/gun",
    GUN_DIR: "radata",
    BUBBLES_DIR: "bubbles"
};

// Initialize provider with configuration
const app = express();
const gun = Gun(gunOptions);
const provider = new HybridBubbleProvider(CONFIG);

// API endpoints
app.post('/bubble', handleCreateBubble);
app.post('/bubble/:id/write', handleWriteBubble);
app.get('/bubble/:id', handleReadBubble);</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Usage Section -->
            <div id="advanced" class="doc-section">
                <div class="container">
                    <h2 class="section-title glow-text">Advanced Usage</h2>

                    <!-- Contract Deployment -->
                    <div id="contract-deployment" class="doc-section">
                        <h3 class="section-subtitle">
                            📄 Contract Deployment
                            <a href="https://github.com/scobru/gun-eth/tree/main/contracts" target="_blank" class="source-link">
                                <i class="fas fa-code"></i> Source
                            </a>
                        </h3>
                        
                        <div class="integration-overview">
                            <h4>Hardhat Deployment Guide</h4>
                            
                            <div class="overview-section">
                                <h5>1. Environment Setup</h5>
                                <pre><code class="language-bash">
# Installa Hardhat
npm install --save-dev hardhat

# Inizializza progetto Hardhat
npx hardhat init

# Installa dipendenze
npm install --save-dev @nomiclabs/hardhat-ethers ethers</code></pre>
                            </div>

                            <div class="overview-section">
                                <h5>2. Configurazione Ambiente</h5>
                                <pre><code class="language-javascript">
// .env
PRIVATE_KEY=your_private_key
ALCHEMY_API_KEY=your_alchemy_api_key
ETHERSCAN_API_KEY=your_etherscan_api_key
POLYGONSCAN_API_KEY=your_polygonscan_api_key
OPTIMISM_API_KEY=your_optimism_api_key
ARBITRUM_API_KEY=your_arbitrum_api_key
BASESCAN_API_KEY=your_basescan_api_key

// hardhat.config.js
require("@nomicfoundation/hardhat-toolbox");
require("@nomicfoundation/hardhat-ethers");
require("@nomicfoundation/hardhat-verify");
require('dotenv').config();

module.exports = {
  solidity: {
    version: "0.8.19",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200
      }
    }
  },
  networks: {
    polygon: {
      url: `https://polygon-mainnet.g.alchemy.com/v2/${process.env.ALCHEMY_API_KEY}`,
      accounts: [process.env.PRIVATE_KEY],
      chainId: 137
    },
    optimism: {
      url: `https://opt-mainnet.g.alchemy.com/v2/${process.env.ALCHEMY_API_KEY}`,
      accounts: [process.env.PRIVATE_KEY],
      chainId: 10
    },
    arbitrum: {
      url: `https://arb-mainnet.g.alchemy.com/v2/${process.env.ALCHEMY_API_KEY}`,
      accounts: [process.env.PRIVATE_KEY],
      chainId: 42161
    },
    base: {
      url: "https://mainnet.base.org",
      accounts: [process.env.PRIVATE_KEY]
    },
    // Altre reti supportate:
    // - Gnosis Chain
    // - Scroll
    // - PGN (Public Goods Network)
    // - Celo
  },
  etherscan: {
    apiKey: {
      polygon: process.env.POLYGONSCAN_API_KEY,
      optimisticEthereum: process.env.OPTIMISM_API_KEY,
      arbitrumOne: process.env.ARBITRUM_API_KEY,
      base: process.env.BASESCAN_API_KEY
    }
  }
};</code></pre>
                            </div>

                            <div class="overview-section">
                                <h5>Reti Supportate</h5>
                                <ul>
                                    <li><strong>Layer 1:</strong> Ethereum (Mainnet, Sepolia)</li>
                                    <li><strong>Layer 2:</strong>
                                        <ul>
                                            <li>Polygon (Mainnet, Mumbai, zkEVM)</li>
                                            <li>Optimism (Mainnet, Sepolia)</li>
                                            <li>Arbitrum (Mainnet, Sepolia)</li>
                                            <li>Base (Mainnet, Sepolia)</li>
                                        </ul>
                                    </li>
                                    <li><strong>Altre Reti:</strong>
                                        <ul>
                                            <li>Gnosis Chain (Mainnet, Chiado)</li>
                                            <li>Scroll (Mainnet, Sepolia)</li>
                                            <li>PGN - Public Goods Network (Mainnet, Testnet)</li>
                                            <li>Celo (Mainnet, Alfajores)</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>

                            <div class="overview-section">
                                <h5>3. Deploy dei Contratti</h5>
                                <pre><code class="language-javascript">
// scripts/deploy.js
async function main() {
  // Deploy ProofOfIntegrity
  const ProofOfIntegrity = await ethers.getContractFactory("ProofOfIntegrity");
  const proofOfIntegrity = await ProofOfIntegrity.deploy();
  await proofOfIntegrity.deployed();
  console.log("ProofOfIntegrity deployed to:", proofOfIntegrity.address);

  // Deploy StealthAnnouncer
  const StealthAnnouncer = await ethers.getContractFactory("StealthAnnouncer");
  const stealthAnnouncer = await StealthAnnouncer.deploy();
  await stealthAnnouncer.deployed();
  console.log("StealthAnnouncer deployed to:", stealthAnnouncer.address);

  // Deploy BubbleRegistry
  const BubbleRegistry = await ethers.getContractFactory("BubbleRegistry");
  const bubbleRegistry = await BubbleRegistry.deploy();
  await bubbleRegistry.deployed();
  console.log("BubbleRegistry deployed to:", bubbleRegistry.address);
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });</code></pre>
                            </div>

                            <div class="overview-section">
                                <h5>4. Esecuzione Deploy</h5>
                                <pre><code class="language-bash">
# Deploy su localhost
npx hardhat node
npx hardhat run scripts/deploy.js --network localhost

# Deploy su mainnet
npx hardhat run scripts/deploy.js --network mainnet</code></pre>
                            </div>

                            <div class="overview-section">
                                <h5>5. Verifica e Test</h5>
                                <pre><code class="language-javascript">
// test/test.js
describe("Gun-ETH Contracts", function() {
  it("Should deploy and initialize correctly", async function() {
    // Test code here
  });
});</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contract Addresses Section -->
    <section class="dark-section">
        <div class="container">
            <h2 class="section-title glow-text">Indirizzi dei Contratti su Polygon Mainnet</h2>
            <div class="integration-overview">
                <div class="overview-section">
                    <h5>Contratti Deployati</h5>
                    <ul>
                        <li><strong>StealthAnnouncer:</strong> 0xD0CDbD17E4f2DDCE27B51721095048302768434f</li>
                        <li><strong>ProofOfIntegrity:</strong> 0x8515fa00a00A5483a3485526c7aD1f44E2779321</li>
                        <li><strong>BubbleRegistry:</strong> 0xc70DC231B9690D9dA988f6D4E518356eE9e45cd9</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p class="footer-text">© 2024 Scobru. MIT License.</p>
        </div>
    </footer>

    <!-- Add Prism JS at the end of body -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <script>
        // Automatically apply syntax highlighting to all code blocks
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                // Add appropriate class for JavaScript syntax highlighting
                if (!block.classList.contains('language-javascript')) {
                    block.classList.add('language-javascript');
                }
                // Trigger Prism to highlight the code
                Prism.highlightElement(block);
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Funzione per lo scroll
            function scrollToElement(elementId) {
                const element = document.getElementById(elementId);
                if (element) {
                    const offset = 100;
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = element.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            }

            // Gestione menu principale
            document.querySelectorAll('.nav-menu .menu-item > a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const menuItem = this.parentElement;
                    
                    // Toggle del menu corrente
                    menuItem.classList.toggle('active');
                    
                    // Se ha un href, scorri alla sezione
                    const href = this.getAttribute('href');
                    if (href && href !== '#') {
                        scrollToElement(href.substring(1));
                    }
                });
            });

            // Gestione submenu
            document.querySelectorAll('.nav-menu .submenu a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const href = this.getAttribute('href');
                    if (href && href !== '#') {
                        scrollToElement(href.substring(1));
                    }
                });
            });
        });
    </script>
</body>
</html>
